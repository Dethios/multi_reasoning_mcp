version: 1
# Bridge routing: repo-scoped context uses workspace_memory. Upstream/personal
# memory should be accessed via the upstream memory MCP server, not this bridge.
servers:
  workspace_memory:
    # Repo-specific memory store (services/mcp_workspace_memory).
    enabled: true
    command: python
    args: ["-m", "workspace_memory.server"]
    cwd: "${WORKSPACE_ROOT}/services/mcp_workspace_memory"
    env:
      PYTHONPATH: "${WORKSPACE_ROOT}/services/mcp_workspace_memory/src"
      WORKSPACE_MEMORY_CONFIG: "${WORKSPACE_ROOT}/services/mcp_workspace_memory/config.toml"
    allowed_tools:
      - "project.list"
      - "project.set_active"
      - "docs.search"
      - "docs.get"
      - "memory.search"
      - "memory.remember"
      - "memory.forget"
